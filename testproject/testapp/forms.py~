from django import forms
from testapp.models import Person


class CalendarWidget(forms.TextInput):
    class Media:
        js = ("site_media/js/calendar.js",
              "site_media/js/DateTimeShortcuts.js")

    def __init__(self, attrs={}):
        super(CalendarWidget, self).__init__(attrs={'class': 'vDateField', 'size': '10'})
        print '\nmedia:'
        print self.media


class PersonForm(forms.ModelForm):
    phone = forms.RegexField(regex='^\d{7,10}$', max_length=10, error_messages = {'invalid': 'Enter a valid phone number'})
    birthdate = forms.DateField(widget=CalendarWidget)

    class Meta:
         model = Person
